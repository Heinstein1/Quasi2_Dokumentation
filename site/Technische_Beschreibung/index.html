<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Technical description of main components - Dokumentation Quasi II</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Technical description of main components";
        var mkdocs_page_input_path = "Technische_Beschreibung.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Dokumentation Quasi II
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Quasi II Dokumentation</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">Technical description of main components</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#heat-pump-hp">Heat pump (HP)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#electrolyser">Electrolyser</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#reduction-of-usable-heat-during-start-up">Reduction of usable heat during start-up</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#combined-heat-and-power-plant-chp">Combined heat and power plant (CHP)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#gas-boiler-gb">Gas boiler (GB)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#oil-heating-oh">Oil heating (OH)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#elecric-heating-rod-er">Elecric heating rod (ER)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#biomass-boiler-bb">Biomass boiler (BB)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#heat-sources">Heat sources</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#soil">Soil</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#water">Water</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#air">Air</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#external-source">External source</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#chiller-ch">Chiller (CH)</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#simple-model-for-electrolyser">Simple model for electrolyser</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#general-model-for-cooling-purposes">General model for cooling purposes</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#short-term-thermal-energy-storage-sttes">Short-term thermal energy storage (STTES)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#seasonal-thermal-energy-storage-stes">Seasonal thermal energy storage (STES)</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#tank-ttes-and-pit-ptes-thermal-energy-storage">Tank (TTES) and Pit (PTES) thermal energy storage</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#borehole-thermal-energy-storage-btes">Borehole thermal energy storage (BTES)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#aquifer-thermal-energy-storage-ates">Aquifer thermal energy storage (ATES)</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#ice-storage-is">Ice storage (IS)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#hydrogen-fuel-cell-fc">Hydrogen fuel cell (FC)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#photovoltaik-pv">Photovoltaik (PV)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#wind-power-wp">Wind power (WP)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#battery-ba">Battery (BA)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#hydrogen-compressor-hc">Hydrogen compressor (HC)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#references">References</a>
    </li>
    </ul>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Dokumentation Quasi II</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>Technical description of main components</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="technical-description-of-main-components">Technical description of main components</h1>
<h2 id="heat-pump-hp">Heat pump (HP)</h2>
<p>As heat pumps, electrically driven variable-speed compressor heat pumps can be integrated into the simulation model. Their general system diagram is shown in figure 1. </p>
<p>Fig. 1: General system chart of a heat pump</p>
<p><img alt="Image title" src="../fig/221018_WP_Anlagenschema.png" /></p>
<p>The energy balance at the heat pump is built up from the incoming electricity, the incoming heat at a low temperature level and the outgoing heat flow at a higher temperature level. The efficiency of the heat pump is defined by the coefficient of performance (COP) as a function of the condenser outlet temperature and the evaporator inlet temperature (see Figure 2).</p>
<p>Fig. 2: Energy balance of the heat pump model</p>
<p><img alt="Image title" src="../fig/221006_W%C3%A4rmepumpe_Energiefluss.png" /></p>
<p>The coefficient of performance (COP) determines the electrical power required <script type="math/tex">P_{el,HP}</script> to raise the temperature of a mass flow from the lower temperature level <script type="math/tex">T_{HP,source,in}</script> to <script type="math/tex">T_{HP,sink,out}</script>: </p>
<p>
<script type="math/tex; mode=display"> COP_{HP} = \frac{\dot{Q}_{HP,ab}}{P_{el,HP}} \quad  \leq \quad COP_{Carnot} = \frac{T_{HP,sink,out}[K]}{T_{HP,sink,out}-T_{HP,source,in} } </script>
</p>
<p>
<script type="math/tex; mode=display"> COP_{HP} = \eta_{Carnot} \  COP_{Carnot} \quad \text{with} \quad 0 \leq \eta_{Carnot} \leq 1 </script>
</p>
<p>The coefficient of performance is always smaller than the maximum possible Carnot coefficient of performance (<script type="math/tex">COP_{Carnot}</script>), which is calculated from the condenser outlet and evaporator inlet temperature. In Quasi, either the <script type="math/tex">COP_{Carnot}</script> or a COP chart as lookup table can be used to get the current COP in every timestep. The COP chart is given as universal chart for varius heat pumps. For computational efficiency, the COP chart is fitted to a polynom during initialisation of the simulation. As example, the following figure shows a map of a high-temperature heat pump as a set of curves, depending on the evaporator inlet and condenser outlet temperature. In three dimensions, this figure would result in a surface that can be parameterized with a three-dimensional spline interpolation algorithm. The Carnot-COP calculated from the temperatures is computationally more efficient compared to the COP chart. The Carnot-COP is reduced by the carnot effiency factor <script type="math/tex">\eta_{Carnot}</script>, which is according to [Arpagaus2018]<sup id="fnref:3"><a class="footnote-ref" href="#fn:3">1</a></sup> around 45% for high temperature heat pumps and around 40% for conventional heat pumps.</p>
<p>Fig. 3: COP chart of a high-temperature heat pump, given as a series of curves</p>
<p><img alt="Image title" src="../fig/COP_Kennfeld_Beispiel.png" /></p>
<p>The energy balance (or power balance) of the heat pump can be determined according to Figure 2, as well as a relationship between supplied and dissipated heat output as a function of the coefficient of performance: </p>
<p>
<script type="math/tex; mode=display">\dot{Q}_{HP,out} = \frac{COP_{HP}}{COP_{HP} -1} \ \dot{Q}_{HP,in} \mathrm{\quad mit \quad} \dot{Q}_{HP,out} = \dot{Q}_{HP,in} + P_{HP,el} </script>
</p>
<p>The power of the heat pump's electric supply, including the losses of the power electronics, is given as: </p>
<p>
<script type="math/tex; mode=display">P_{el,HP,Bezug} = \frac{P_{el,HP}}{\eta_{HP,LE}}</script>
</p>
<p>The maximum thermal power of the heat pump is not constant for different operation temperatures. The available thermal power is decreasing with lower source temperature, an effect that mainly occurs in heat pumps with air as the source medium.</p>
<p>Stiebel-Eltron: Thermische Leistung konstant über verschiedene Vorlauftemperaturen, aber verändert über verschiedene Quellentemperaturen.
Elektrische Leistung konstant über verschiedene Quelltemperaturen, aber verändert über unterschiedliche Vorlauftemperaturen. --&gt; Zu komplex, Entscheidung nötig, ob Wärmeleistung oder elektrische Leistung konstant ist! ToDo</p>
<p><strong>Assumption:</strong> Thermal losses of the HP are already included in the coefficient of performance. </p>
<p><strong>Assumption:</strong> The heat output of the heat pump behaves linearly in part load operation between <script type="math/tex">\dot{Q}_{HP,min}</script> at <script type="math/tex">PL_{HP,min}</script> and <script type="math/tex">\dot{Q}_{HP,max}</script> at 100% compressor speed:</p>
<p>Fig. 4: Linear behaviour of thermal output power in part load operation</p>
<p><img alt="Image title" src="../fig/221018_WP_Teillast_Heizleistung.png" /></p>
<p>The COP of the modeled heat pump depends not only on the temperatures of the sink and the source but also on the part load operation. The relation of the COP and the partial load is assumed to be non-linear. The COP can be corrected using a non-linear part load factor. It follows from the definition of the COP that the correlation between the electrical power consumption and the heat output of the heat pump is therefore not linear too. The coefficient of performance in partial load operation is approximated using the following correction function. Example --&gt; Generalize?! TODO:</p>
<p><img alt="Image title" src="../fig/COP_Teillast.png" /></p>
<p>Image from <sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup></p>
<p>Exemplary correction curve for the COP at partial load and a 4<script type="math/tex">^{th}</script> grade fitting polynome:</p>
<p><img alt="Image title" src="../fig/221020_COP_curve_PL_2.png" /></p>
<p>Since the temperatures of the heat flows entering and leaving the heat pump, which have not been considered so far, are also relevant, the heat outputs can be calculated on the basis of the respective mass flow <script type="math/tex">\dot{m}</script> and the physical properties of the heat transfer medium (specific heat capacity <script type="math/tex">c_{p}</script> and, if applicable, the density <script type="math/tex">\rho</script>) by rearranging the following equation:</p>
<p>
<script type="math/tex; mode=display"> \dot{Q} = \dot{m} \ c_{p} \ (T_{max} - T_{min}) </script>
</p>
<p><strong>Inputs und Outputs of the Heat Pump:</strong></p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Description</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<script type="math/tex">\dot{Q}_{HP,in}</script>
</td>
<td>heat flow supplied to the HP (heat source)</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">\dot{Q}_{HP,out}</script>
</td>
<td>heat flow leaving the HP (heat sink)</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">P_{el,HP}</script>
</td>
<td>electric power demand of the HP</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">P_{el,HP,supply}</script>
</td>
<td>electric power demand of the HP incl. losses of the power electronics</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">T_{HP,sink,in}</script>
</td>
<td>condenser inlet temperature</td>
<td>[°C]</td>
</tr>
<tr>
<td>
<script type="math/tex">T_{HP,sink,out}</script>
</td>
<td>condenser outlet temperature</td>
<td>[°C]</td>
</tr>
<tr>
<td>
<script type="math/tex">T_{HP,source,in}</script>
</td>
<td>evaporator inlet temperature</td>
<td>[°C]</td>
</tr>
<tr>
<td>
<script type="math/tex">T_{HP,source,out}</script>
</td>
<td>evaporator outlet temperature</td>
<td>[°C]</td>
</tr>
</tbody>
</table>
<p><strong>Parameter of the Heat Pump:</strong></p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Description</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<script type="math/tex">\dot{Q}_{HP,max}</script>
</td>
<td>maximum thermal power of the heat pump</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">\dot{Q}_{HP,min}</script>
</td>
<td>minimum thermal power of the heat pump at <script type="math/tex">PL_{HP,min}</script>
</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">PL_{HP,min}</script>
</td>
<td>minimum possible part load of the heat pump [%]</td>
<td></td>
</tr>
<tr>
<td>
<script type="math/tex">COP_{HP}(T_{HP,sink,out}, T_{HP,source,in}, x_{HP})</script>
</td>
<td>coefficient of performance (COP) of the heat pump incl. thermal losses depending on <script type="math/tex">T_{HP,sink,out}</script> and <script type="math/tex">T_{HP,source,in}</script> and on current state <script type="math/tex">x_{HP}</script>
</td>
<td>[-]</td>
</tr>
<tr>
<td>
<script type="math/tex">\eta_{HP,PE}</script>
</td>
<td>efficiency of power electronics of heat pump</td>
<td>[-]</td>
</tr>
<tr>
<td>
<script type="math/tex">\eta_{Carnot}</script>
</td>
<td>efficiency factor of heat pump, reduces the Carnot-COP</td>
<td>[-]</td>
</tr>
<tr>
<td>
<script type="math/tex">MOT_{HP}</script>
</td>
<td>minimum operating time of heat pump</td>
<td>[min]</td>
</tr>
<tr>
<td>
<script type="math/tex">SUP_{HP}</script>
</td>
<td>start-up time of the HP until full heat supply (linear curve)</td>
<td>[min]</td>
</tr>
</tbody>
</table>
<p><strong>State Variables of Heat Pump:</strong></p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Description</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<script type="math/tex">x_{HP}</script>
</td>
<td>current operating state (on, off, part load)</td>
<td>[%]</td>
</tr>
</tbody>
</table>
<p><strong>TODO</strong>: Teillastverhalten? getaktet oder Drehzahlgeregelt (Inverter)?
Anpassung des COPs über lineare oder quadratische Funktion? Oder konstander Wirkungsgrad in Teillast?</p>
<p>Beispiel für quadratische Teillastverhalten des COPs: </p>
<p><img alt="Image title" src="../fig/Beispiel_fuer_Teillast.png" />
Image from [Wemhöner2020]<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">3</a></sup></p>
<p><strong>TODO:</strong> COP über Kennfeld und Fit auf Polynom oder über COP mit Gütegrad?</p>
<h2 id="electrolyser">Electrolyser</h2>
<p>The electrolyzer uses electrical energy to split water into its components hydrogen (<script type="math/tex">H_2</script>) and oxygen (<script type="math/tex">O_2</script>) as shown in the following reaction equation: </p>
<p>
<script type="math/tex; mode=display"> 2 \ H_2O \rightarrow 2 \ H_2 + O_2 </script>
</p>
<p>If the electrical energy is provided by renewable energies, the resulting hydrogen is labeled as "green hydrogen" and can be used to decarbonize the mobility or industrial sector or fed into the natural gas grid. The waste heat generated in the process can be used directly by feeding it into a heat network or via an intermediate heat pump. For flexible operation, it is possible to discharge the waste heat to the environment using a chiller. The use of waste heat is an important factor for the overall efficiency of the electrolyzer. </p>
<p>The general energy and mass flow in the electrolyser as well as the losses considered in the model can be seen in the following figure.</p>
<p>Fig. 5: Energy and mass flows in the electrolyser</p>
<p><img alt="Image title" src="../fig/221013_Elektrolyseur.png" /></p>
<p>The relationship between supplied hydrogen of the electrolysis (energy (<script type="math/tex">\dot{E}_{Ely,H_2}</script>) or mass flow (<script type="math/tex">\dot{m}_{Ely,H_2}</script>)) and the consumption of electrical energy (<script type="math/tex"> P_{el,Ely} </script>) is given in the following equation, where <script type="math/tex">e_{H_2}</script> can be either the net or the gross calorific value of the hydrogen:
<script type="math/tex; mode=display">
\begin{align}
\dot{E}_{Ely,H_2}=  P_{el,Ely} \enspace \eta_{Ely,H_2}
\end{align}
</script>
</p>
<p>
<script type="math/tex; mode=display"> 
\begin{equation}
\dot{m}_{Ely,H_2} =  \frac{\dot{E}_{Ely,H_2}}{e_{H_2}} 
\end{equation}
</script>
</p>
<p>Due to the purification losses of the hydrogen caused by the reduction of oxygen molecules contained in the hydrogen gas in the catalyst, depending on the electrolysis technology, the actually obtained hydrogen energy or mass flow is reduced by the proportion of the hydrogen losses <script type="math/tex">\eta_{H_2 \ purification}</script> to the energy or mass flows, supplemented with index <script type="math/tex">out</script>:
<script type="math/tex; mode=display"> \dot{E}_{Ely,H_2,out}=  (1-\eta_{H_2 \ purification}) \ \dot{E}_{Ely,H_2} </script>
</p>
<p>
<script type="math/tex; mode=display"> \dot{m}_{Ely,H_2,out} = (1-\eta_{H_2 \ purification}) \ \dot{m}_{Ely,H_2} </script>
</p>
<p>Conversely, by rearranging and substituting the previous equations from a required hydrogen mass flow, the electrical power consumption can be calculated as follows:
<script type="math/tex; mode=display"> P_{el,Ely} =  \frac{\dot{m}_{Ely,H_2,out} \ e_{H_2}}{\eta_{Ely,H_2} \ (1 - \eta_{H_2 \ purification})}  </script>
</p>
<p>The usable waste heat from the electrolysis process <script type="math/tex">\dot{Q}_{Ely,waste heat}</script> is determined, depending on the available information, as
<script type="math/tex; mode=display">\dot{Q}_{Ely,waste heat} = \eta_{Ely,heat} \enspace (1-\eta_{Ely,H_2}) \enspace P_{el,Ely} = \frac{(1 - \eta_{Ely,H_2}) \ \eta_{Ely,heat} } { (1 - \eta_{H_2 \ purification}) \ \eta_{Ely,H_2} } \ \dot{E}_{Ely,H_2,out} </script>
</p>
<p>With a known mass flow <script type="math/tex">\dot{m}_{HP,cool}</script> and the specific heat capacity of the heat transfer medium of the heat recovery <script type="math/tex">c_{p,cool}</script> as well as a known inlet temperature <script type="math/tex">T_{Ely,cool,in}</script>, the outlet temperature of the heat transfer medium from the cooling circuit <script type="math/tex">T_{Ely,cool,out}</script> can be determined by rearranging the following equation:
<script type="math/tex; mode=display">\dot{Q}_{Ely,waste heat} = \dot{m}_{HP,cool} \enspace c_{p,cool} \enspace (T_{Ely,hot,out} - T_{Ely,cool,in})</script>
</p>
<p>The heat loss <script type="math/tex">\dot{Q}_{Ely,loss}</script>, which cannot be used and is dissipated to the environment via heat transport mechanisms, is calculated as follows</p>
<p>
<script type="math/tex; mode=display">  \dot{Q}_{Ely,loss} = P_{el,Ely} - \dot{Q}_{Ely,waste heat} - \dot{E}_{Ely,H_2} \\ =  P_{el,Ely} \ (1 - \eta_{Ely,heat} + \eta_{Ely,heat} \ \eta_{Ely,H_2} - \eta_{Ely,H_2}) </script>
</p>
<p>The actual needed power supply of the electrolyzer <script type="math/tex">P_{el,Ely,supply}</script> increases by losses in the power electronics and results from the electrical reference power <script type="math/tex">P_{el,Ely}</script> and the losses in the power electronics <script type="math/tex">\eta_{Ely,PE}</script> to
<script type="math/tex; mode=display"> P_{el,Ely,supply} = \frac{P_{el,Ely}}{\eta_{Ely,PE}} </script>
</p>
<p>Since the oxygen produced during the electrolysis process can also be utilized economically under certain circumstances, the resulting oxygen mass flow <script type="math/tex">\dot{m}_{Ely,O_2,out}</script> is determined from the stoichiometric ratio of the reaction equation of the water splitting described at the beginning:</p>
<p>
<script type="math/tex; mode=display">  \dot{m}_{Ely,O_2,out} =  v_{O_2,H_2} \enspace  \dot{m}_{Ely,H_2} </script>
<script type="math/tex; mode=display"> \text{with} \quad v_{O_2,H_2} = \frac{atomic \ mass \ O_2}{atomic \ mass \ 2 \ H_2} = \frac{2 * 15,9990 \ u}{2*2*1,0008 \ u} = 7,9386 </script>
</p>
<p>The required mass flow of water <script type="math/tex">\dot{m}_{Ely,H_2O,in}</script> can be determined from the supplied masses of hydrogen and oxygen and the purification losses in the water treatment unit, characterized by the fraction of purification losses <script type="math/tex">\eta_{H_2O \ treatment}</script>.
<script type="math/tex; mode=display"> \dot{m}_{Ely,H_2O,in} = \frac{\dot{m}_{Ely,H_2}  + \dot{m}_{Ely,O_2,out}}{1- \eta_{H_2O \ treatment}} </script>
</p>
<p><strong>Assumption:</strong> The electrolyzer is only operated between minimum 0 % and maximum 100 % load. A specification of power above nominal power, which frequently occurs in practice, is not supported. </p>
<p><strong>TODO:</strong> Efficiency decrease (el.) due to degradation?</p>
<p><strong>Inputs and Outputs of the Electrolyser:</strong></p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Description</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<script type="math/tex">P_{el,Ely}</script>
</td>
<td>electrical power requirement of the electrolyser</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">P_{el,Ely,supply}</script>
</td>
<td>electrical power requirement of the electrolyser incl. losses of power electronics</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">\dot{m}_{Ely,H_2O,in}</script>
</td>
<td>water mass flow fed to the electrolyser</td>
<td>[kg/h]</td>
</tr>
<tr>
<td>
<script type="math/tex">\dot{m}_{Ely,O_2,out}</script>
</td>
<td>oxygen mass flow delivered by the electrolyser</td>
<td>[kg/h]</td>
</tr>
<tr>
<td>
<script type="math/tex">\dot{m}_{Ely,H_2}</script>
</td>
<td>hydrogen mass flow produced by the electrolyser (before <script type="math/tex">H_2</script>-cleaning losses)</td>
<td>[kg/h]</td>
</tr>
<tr>
<td>
<script type="math/tex">\dot{m}_{Ely,H_2,out}</script>
</td>
<td>hydrogen mass flow provided by the electrolyser (after <script type="math/tex">H_2</script>-cleaning losses)</td>
<td>[kg/h]</td>
</tr>
<tr>
<td>
<script type="math/tex">\dot{E}_{Ely,H_2}</script>
</td>
<td>hydrogen energy flow discharged from the electrolyser (before <script type="math/tex">H_2</script>-cleaning losses)</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">\dot{E}_{Ely,H_2,out}</script>
</td>
<td>hydrogen energy flow provided by the electrolyser <script type="math/tex">after (H_2</script>-cleaning losses)</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">T_{Ely,cooling,in}</script>
</td>
<td>cooling fluid inlet temperature of electrolyser</td>
<td>[°C]</td>
</tr>
<tr>
<td>
<script type="math/tex">T_{Ely,cooling,out}</script>
</td>
<td>cooling fluid outlet temperature of electrolyser</td>
<td>[°C]</td>
</tr>
<tr>
<td>
<script type="math/tex">\dot{Q}_{Ely,waste heat}</script>
</td>
<td>waste heat provided by the electrolyser</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">\dot{Q}_{Ely,loss}</script>
</td>
<td>thermal losses in elektrolyser (unused waste heat))</td>
<td>[MW]</td>
</tr>
</tbody>
</table>
<p><strong>Parameter of the Electrolyser:</strong></p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Description</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<script type="math/tex">P_{el,Ely,rated}</script>
</td>
<td>electric power consumption of the electrolyser under full load (operating state 100 %)</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">\eta_{Ely,H_2}(x_{Ely},P_{el,Ely,rated})</script>
</td>
<td>efficiency of hydrogen production of the electrolyser (<script type="math/tex">\dot{E}_{Ely,H_2,out}</script> related to <script type="math/tex">P_{el,Ely}</script> as a function of operating state, plant size and plant type)</td>
<td>[-]</td>
</tr>
<tr>
<td>
<script type="math/tex">\eta_{Ely,heat}</script>
</td>
<td>efficiency of the usable heat extraction of the electrolyzer (related to <script type="math/tex">1-\eta_{Ely,H_2}</script>)</td>
<td>[-]</td>
</tr>
<tr>
<td>
<script type="math/tex">\eta_{Ely,LE}</script>
</td>
<td>efficiency of the power electronics of the electrolyser</td>
<td>[-]</td>
</tr>
<tr>
<td>
<script type="math/tex">PL_{Ely,min}</script>
</td>
<td>minimum allowed partial load of the electrolyzer</td>
<td>[-]</td>
</tr>
<tr>
<td>
<script type="math/tex">MOT_{Ely}</script>
</td>
<td>minimum operating time of the electrolyser</td>
<td>[min]</td>
</tr>
<tr>
<td>
<script type="math/tex">SUP_{Ely}</script>
</td>
<td>start-up time of the electrolyser until full heat supply (linear curve)</td>
<td>[min]</td>
</tr>
<tr>
<td>
<script type="math/tex">e_{H_2} </script>
</td>
<td>mass-related energy of hydrogen (net calorific value or gross calorific value)</td>
<td></td>
</tr>
<tr>
<td>
<script type="math/tex">v_{O_2,H_2} </script>
</td>
<td>stoichiometric mass-based ratio of oxygen and hydrogen supply during electrolysis</td>
<td>[kg <script type="math/tex">O_2</script> / kg <script type="math/tex">H_2</script>]</td>
</tr>
<tr>
<td>
<script type="math/tex">\eta_{H_2 \ purification} </script>
</td>
<td>percentage of purification losses in hydrogen purification</td>
<td>[%]</td>
</tr>
<tr>
<td>
<script type="math/tex">\eta_{H_2O \ treatment} </script>
</td>
<td>percentage of purification losses in water treatment</td>
<td>[%]</td>
</tr>
<tr>
<td>
<script type="math/tex">p_{H_2,Ely} </script>
</td>
<td>pressure of hydrogen supply</td>
<td>[bar]</td>
</tr>
<tr>
<td>
<script type="math/tex">p_{O_2,Ely} </script>
</td>
<td>pressure of oxygen supply</td>
<td>[bar]</td>
</tr>
<tr>
<td>
<script type="math/tex">T_{Ely,cooling,in,max}</script>
</td>
<td>max. allowed temperature of cooling medium input</td>
<td>[°C]</td>
</tr>
</tbody>
</table>
<p><strong>State variables of the Electrolyser:</strong></p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Description</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<script type="math/tex">x_{Ely}</script>
</td>
<td>current  operating state (on, off, part load)</td>
<td>[%]</td>
</tr>
</tbody>
</table>
<h2 id="reduction-of-usable-heat-during-start-up">Reduction of usable heat during start-up</h2>
<p><img alt="Image title" src="../fig/221028_Start-up-Reduction_general.svg" />
<img alt="Image title" src="../fig/221028_Start-up-Reduction_general.png" />
<img alt="Image title" src="../fig/221028_Start-up-Reduction_general.pdf" /></p>
<p>Linear warm-up during start-up:
<script type="math/tex; mode=display">
 \dot{Q}_{out,reduced} = 
\begin{cases}
\dot{Q}_{out} \ \frac{\text{actual operating time}}{\text{minimum operating time}} & \text{actual operating time} \ < \text{minimum operating time} \\
\dot{Q}_{out} & \text{actual operating time} \ \geq  \text{minimum operating time}
\end{cases} 
</script>
</p>
<h2 id="combined-heat-and-power-plant-chp">Combined heat and power plant (CHP)</h2>
<p><img alt="Image title" src="../fig/221021_CHP.png" /></p>
<p>Definiton of power-to-heat ratio of CHP:
<script type="math/tex; mode=display"> r_{CHP,PTH} = \frac{\eta_{CHP,el}}{\eta_{CHP,thermal}} = \frac{P_{el,CHP,rated}}{\dot{Q}_{CHP,rated}}  </script>
</p>
<p>Energy balance on CHP:
<script type="math/tex; mode=display">  \dot{E}_{CHP,gas,in} = P_{el,CHP,out} + \dot{Q}_{CHP,out} + \dot{Q}_{CHP,loss} </script>
</p>
<p>Calculation of electric power output:
<script type="math/tex; mode=display">  P_{el,CHP,out} = \eta_{CHP,el} \ \dot{E}_{CHP,gas,in}   </script>
</p>
<p>Calculation of thermal power output:
<script type="math/tex; mode=display">  \dot{Q}_{CHP,out} = \eta_{CHP,thermal} \ \dot{E}_{CHP,gas,in}   </script>
</p>
<p>Calculation of thermal losses in CHP:
<script type="math/tex; mode=display"> \dot{Q}_{CHP,loss} = (1-\eta_{CHP,thermal}+\eta_{CHP,el}) \ \dot{E}_{CHP,gas,in} </script>
</p>
<p>Relation of electric and thermal power output:
<script type="math/tex; mode=display"> P_{el,CHP,out} = \frac{\eta_{CHP,el}}{\eta_{CHP,thermal}} \ \dot{Q}_{CHP,out} =  r_{CHP,PTH}  \ \dot{Q}_{CHP,out}  </script>
</p>
<p><strong>TODO:</strong> Part load efficiency reduction?</p>
<p><strong>Inputs and Outputs of the CHP:</strong></p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Description</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<script type="math/tex">P_{el,CHP,out}</script>
</td>
<td>electric power output of the CHP</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">P_{el,CHP}</script>
</td>
<td>electric power provided by the CHP</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">\dot{Q}_{CHP,out}</script>
</td>
<td>thermal power output of the CHP</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">\dot{E}_{CHP,gas,in}</script>
</td>
<td>energy demand of the CHP, natural or green gas (NCV or GCV)</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">\dot{Q}_{CHP,loss}</script>
</td>
<td>thermal energy losses of the CHP</td>
<td>[MW]</td>
</tr>
</tbody>
</table>
<p><strong>Parameter of the CHP:</strong></p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Description</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<script type="math/tex">P_{el,CHP,rated}</script>
</td>
<td>rated electric power output of the CHP under full load (operating state 100 %)</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">\dot{Q}_{CHP,rated}</script>
</td>
<td>rated thermal power output of the CHP under full load (operating state 100 %)</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">\eta_{CHP,thermal}</script>
</td>
<td>thermal efficiency of CHP (regading NCV or GCV, needs to correspond to <script type="math/tex">\dot{E}_{CHP,gas,in}</script>)</td>
<td>[-]</td>
</tr>
<tr>
<td>
<script type="math/tex">\eta_{CHP,el}</script>
</td>
<td>electrical efficiency of CHP, including selfe-use of electrical energy (regading NCV or GCV, needs to correspond to <script type="math/tex">\dot{E}_{CHP,gas,in}</script>)</td>
<td>[-]</td>
</tr>
<tr>
<td>
<script type="math/tex">r_{CHP,PTH}</script>
</td>
<td>power-to-heat ratio of CHP</td>
<td>[-]</td>
</tr>
<tr>
<td>
<script type="math/tex">PL_{CHP,min}</script>
</td>
<td>minimum allowed partial load of the CHP</td>
<td>[-]</td>
</tr>
<tr>
<td>
<script type="math/tex">MOT_{CHP}</script>
</td>
<td>minimum operating time of the CHP</td>
<td>[min]</td>
</tr>
<tr>
<td>
<script type="math/tex">SUP_{CHP}</script>
</td>
<td>start-up time of the CHP until full heat supply (linear curve)</td>
<td>[min]</td>
</tr>
</tbody>
</table>
<p><strong>State variables of the CHP:</strong></p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Description</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<script type="math/tex">x_{CHP}</script>
</td>
<td>current operating state of the CHP (on, off, part load)</td>
<td>[%]</td>
</tr>
</tbody>
</table>
<h2 id="gas-boiler-gb">Gas boiler (GB)</h2>
<p><img alt="Image title" src="../fig/221021_Gaskessel.png" /></p>
<p>Energy balance of gas boilder:
<script type="math/tex; mode=display">  \dot{Q}_{GB,out} = \dot{E}_{GB,gas,in} - \dot{Q}_{GB,loss} = \eta_{GB} \ \dot{E}_{GB,gas,in}   </script>
</p>
<p><strong>TODO:</strong> Part load efficiency reduction?</p>
<p><strong>Inputs and Outputs of the GB:</strong></p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Description</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<script type="math/tex">\dot{Q}_{GB,out}</script>
</td>
<td>thermal power output of the GB</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">\dot{E}_{GB,gas,in}</script>
</td>
<td>energy demand of the GB, natural or green gas (NCV or GCV)</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">\dot{Q}_{GB,loss}</script>
</td>
<td>thermal losses of the GB</td>
<td>[MW]</td>
</tr>
</tbody>
</table>
<p><strong>Parameter of the GB:</strong></p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Description</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<script type="math/tex">Q_{GB,rated}</script>
</td>
<td>rated thermal power output of the GB under full load (operating state 100 %)</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex"> \eta_{GB}</script>
</td>
<td>thermal efficiency of gas boiler (regading NCV or GCV, needs to correspond to <script type="math/tex">\dot{E}_{GB,gas,in}</script>)</td>
<td>[-]</td>
</tr>
<tr>
<td>
<script type="math/tex">PL_{GB,min}</script>
</td>
<td>minimum allowed partial load of the GB</td>
<td>[-]</td>
</tr>
<tr>
<td>
<script type="math/tex">MOT_{GB}</script>
</td>
<td>minimum operating time of the GB</td>
<td>[min]</td>
</tr>
<tr>
<td>
<script type="math/tex">SUP_{GB}</script>
</td>
<td>start-up time of the GB until full heat supply (linear curve)</td>
<td>[min]</td>
</tr>
</tbody>
</table>
<p><strong>State variables of the GB:</strong></p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Description</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<script type="math/tex">x_{GB}</script>
</td>
<td>current operating state of the GB (on, off, part load)</td>
<td>[%]</td>
</tr>
</tbody>
</table>
<h2 id="oil-heating-oh">Oil heating (OH)</h2>
<p><img alt="Image title" src="../fig/221028_Oelkessel.png" /></p>
<h2 id="elecric-heating-rod-er">Elecric heating rod (ER)</h2>
<p><img alt="Image title" src="../fig/221028_ElectricRod.png" /></p>
<h2 id="biomass-boiler-bb">Biomass boiler (BB)</h2>
<p><img alt="Image title" src="../fig/221028_BiomassBoiler.png" /></p>
<h2 id="heat-sources">Heat sources</h2>
<h3 id="soil">Soil</h3>
<ul>
<li>geothermal probes</li>
<li>geothermal collector </li>
<li>...</li>
</ul>
<p>Regernation von Wärmequellen --&gt; Erdwärmesonden sind eher Speicher als Wärmequellen</p>
<h3 id="water">Water</h3>
<ul>
<li>groundwater well</li>
<li>surface waters</li>
<li>waste heat from industrial processes</li>
<li>wastewater</li>
<li>solar thermal collector</li>
</ul>
<h3 id="air">Air</h3>
<ul>
<li>ambient air</li>
<li>exhaust air</li>
<li>hot air absorber</li>
</ul>
<h3 id="external-source">External source</h3>
<ul>
<li>district heating network</li>
</ul>
<p>(Vergleich FutureHeatPump II Projekt)</p>
<h2 id="chiller-ch">Chiller (CH)</h2>
<h3 id="simple-model-for-electrolyser">Simple model for electrolyser</h3>
<h3 id="general-model-for-cooling-purposes">General model for cooling purposes</h3>
<p>or just one general model?</p>
<h2 id="short-term-thermal-energy-storage-sttes">Short-term thermal energy storage (STTES)</h2>
<p><img alt="Image title" src="../fig/221028_STTES.png" /></p>
<p><img alt="Image title" src="../fig/221021_STTES_scetch.png" /></p>
<p>The short-term energy storage is a simplified model without thermal losses to the ambient. It consists of two adiabatically separated temperature layers, represented as an ideally layered storage without any interaction between the two layers. This model was chosen to keep the computational effort as small as possible. If a more complex model is needed, the seasonal thermal energy storage can be used that is including energy and exergetic losses.</p>
<p>The rated thermal energy content <script type="math/tex">Q_{STTES,rated}</script> of the STTES can be calculated using the volume <script type="math/tex">V_{STTES}</script>, the density <script type="math/tex">\rho_{STTES}</script>, the specific thermal capacity of the medium in the storage <script type="math/tex">cp_{STTES}</script> and the temperature span within the STTES:
<script type="math/tex; mode=display"> Q_{STTES,rated} = V_{STTES} \ \rho_{STTES} \ cp_{STTES} \ (T_{STTES,hot} - T_{STTES,cold}) </script>
</p>
<p>The amount of the total input (<script type="math/tex">Q_{STTES,in,t}</script>) and output energy (<script type="math/tex">Q_{STTES,out,t}</script>) in every timestep is defined as
<script type="math/tex; mode=display">  Q_{STTES,in,t} = \dot{Q}_{STTES,in,t} \ \Delta t = \dot{m}_{STTES,in} \ cp_{STTES} \ (T_{STTES,hot} - T_{STTES,cold}) \ \Delta t </script>
and
<script type="math/tex; mode=display">  Q_{STTES,out,t} = \dot{Q}_{STTES,out,t} \ \Delta t = \dot{m}_{STTES,out} \ cp_{STTES} \ (T_{STTES,hot} - T_{STTES,cold}) \ \Delta t. </script>
</p>
<p>The current charging state <script type="math/tex">x_{STTES,t+1}</script> can be calculated using the following equation and the charging state of the previous timestep (<script type="math/tex">x_{STTES,t}</script>) as well as the input and output energy
<script type="math/tex; mode=display"> x_{STTES,t+1} = x_{STTES,t} + \frac{Q_{STTES,in,t} - Q_{STTES,out,t}}{Q_{STTES,rated}}   </script>
</p>
<p>leading to the total energy content in every timestep as
<script type="math/tex; mode=display"> Q_{STTES,t} = Q_{STTES,rated} \ x_{STTES,t}. </script>
</p>
<p>The limits of the thermal power in- and output (<script type="math/tex">\dot{Q}_{STTES,in}</script> and <script type="math/tex">\dot{Q}_{STTES,out}</script>) due to the current energy content and maximum c-rate of the STTES are given as
<script type="math/tex; mode=display"> \frac{Q_{STTES,rated} - {Q}_{STTES}}{\Delta \ t}  \stackrel{!}{\geq}   \dot{Q}_{STTES,in} \stackrel{!}{\leq}  c_{STTES,max,load} \ Q_{STTES,rated}  </script>
<script type="math/tex; mode=display"> \frac{{Q}_{STTES}}{\Delta \ t}  \stackrel{!}{\geq}   \dot{Q}_{STTES,out} \stackrel{!}{\leq}  c_{STTES,max,unload} \ Q_{STTES,rated}  </script>
</p>
<p><strong>Inputs and Outputs of the STTES:</strong></p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Description</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<script type="math/tex">\dot{Q}_{STTES,in}</script>
</td>
<td>thermal power input in the STTES</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">\dot{Q}_{STTES,out}</script>
</td>
<td>thermal power output of the STTES</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">\dot{m}_{STTES,in}</script>
</td>
<td>current mass flow rate into the STTES</td>
<td>[kg/h]</td>
</tr>
<tr>
<td>
<script type="math/tex">\dot{m}_{STTES,out}</script>
</td>
<td>current mass flow rate out of the STTES</td>
<td>[kg/h]</td>
</tr>
</tbody>
</table>
<p><strong>Parameter of the STTES:</strong></p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Description</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<script type="math/tex">c_{STTES,max,load}</script>
</td>
<td>maximum charging rate (C-rate) of STTES</td>
<td>[1/h]</td>
</tr>
<tr>
<td>
<script type="math/tex">c_{STTES,max,unload}</script>
</td>
<td>maximum discharging rate (C-rate) of STTES</td>
<td>[1/h]</td>
</tr>
<tr>
<td>
<script type="math/tex">Q_{STTES,rated}</script>
</td>
<td>rated thermal energy capacity of the STTES</td>
<td>[MWh]</td>
</tr>
<tr>
<td>
<script type="math/tex">x_{STTES,start}</script>
</td>
<td>thermal energy contend of the STTES at the beginning of the simulation in relation to <script type="math/tex">Q_{STTES,rated}</script>
</td>
<td>[%]</td>
</tr>
<tr>
<td>
<script type="math/tex">V_{STTES}</script>
</td>
<td>volume of the STTES</td>
<td>[m<script type="math/tex">^3</script>]</td>
</tr>
<tr>
<td>
<script type="math/tex">\rho_{STTES}</script>
</td>
<td>densitiy of the heat carrier medium in the STTES</td>
<td>[kg/m<script type="math/tex">^3</script>]</td>
</tr>
<tr>
<td>
<script type="math/tex">cp_{STTES}</script>
</td>
<td>specifiy heat capacity of the heat carrier medium in the STTES</td>
<td>[kJ/(kg K)]</td>
</tr>
<tr>
<td>
<script type="math/tex">T_{STTES,hot}</script>
</td>
<td>rated upper temperature of the STTES</td>
<td>[°C]</td>
</tr>
<tr>
<td>
<script type="math/tex">T_{STTES,cold}</script>
</td>
<td>rated lower temperature of the STTES</td>
<td>[°C]</td>
</tr>
</tbody>
</table>
<p><strong>State variables of the STTES:</strong></p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Description</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<script type="math/tex">{Q}_{STTES}</script>
</td>
<td>current amount of thermal energy stored in the STTES</td>
<td>[MWh]</td>
</tr>
<tr>
<td>
<script type="math/tex">x_{STTES}</script>
</td>
<td>current charging state of the STTES</td>
<td>[%]</td>
</tr>
</tbody>
</table>
<h2 id="seasonal-thermal-energy-storage-stes">Seasonal thermal energy storage (STES)</h2>
<p>Seasonal thermal energy storages can be used to shift thermal energy from the summer to the heating period in the winter. Due to the long storage period, energy losses to the environment and exergy losses within the storage must be taken into account.</p>
<h3 id="tank-ttes-and-pit-ptes-thermal-energy-storage">Tank (TTES) and Pit (PTES) thermal energy storage</h3>
<p><img alt="Image title" src="../fig/221028_STES.png" /></p>
<p><img alt="Image title" src="../fig/221025_LZWSP_Geometrie.png" /></p>
<p><img alt="Image title" src="../fig/221021_STES_layers.png" /></p>
<p>Vernachlässigt werden: Thermische Kapazität des umgebenden Erdreichs, Kies-Wasser-Becken</p>
<h3 id="borehole-thermal-energy-storage-btes">Borehole thermal energy storage (BTES)</h3>
<p>Borehole thermal energy storages are not implemented yet.</p>
<h3 id="aquifer-thermal-energy-storage-ates">Aquifer thermal energy storage (ATES)</h3>
<p>Aquifer thermal energy storages are not implemented yet.</p>
<h2 id="ice-storage-is">Ice storage (IS)</h2>
<h2 id="hydrogen-fuel-cell-fc">Hydrogen fuel cell (FC)</h2>
<h2 id="photovoltaik-pv">Photovoltaik (PV)</h2>
<p>pvlib</p>
<h2 id="wind-power-wp">Wind power (WP)</h2>
<p>windpowerlib </p>
<p>Achtung: Winddaten von EPW nicht geeignet!</p>
<h2 id="battery-ba">Battery (BA)</h2>
<p><img alt="Image title" src="../fig/221025_battery.png" /></p>
<p>Energy balance of battery in every timestep:
<script type="math/tex; mode=display">  E_{GB,t+1} = E_{GB,t} + \Delta t \ ( \eta_{BA,charge} \ P_{el,BA,in} - \ \frac{P_{el,BA,out}}{\eta_{BA,discharge}} - P_{el,BA,loss,self}) </script>
</p>
<p>Self-Discharge losses of battery:
<script type="math/tex; mode=display"> P_{el,BA,loss,self} = r_{BA,self \ discharge} \ \frac{1 \ h}{\Delta t} \ E_{GB,t} </script>
</p>
<p>Charging losses of battery:
<script type="math/tex; mode=display"> P_{el,BA,loss,charge} = (1 - \eta_{BA,charge}) \ P_{el,BA,in} </script>
</p>
<p>Discharging losses of battery:
<script type="math/tex; mode=display"> P_{el,BA,loss,discharge} = \frac{1 - \eta_{BA,discharge}}{\eta_{BA,discharge}} \ P_{el,BA,out} </script>
</p>
<p>Current maximum capacity of the battery:
<script type="math/tex; mode=display"> E_{GB,max,current} = E_{GB,rated} \ (1-r_{GB,CapReduction}) ^{ n_{cycles \ performed}} </script>
<script type="math/tex; mode=display"> \text{with} \ n_{cycles \ performed} = \frac{\int_{start}^{current} P_{el,BA,in} dt}{E_{GB,rated}} </script>
</p>
<p>Limits of electrical power in- and output (limit to current energy content and maximum c-rate of battery):
<script type="math/tex; mode=display"> \frac{E_{GB,max,current} - E_{GB}}{\Delta t \ \ \eta_{BA,charge} } \stackrel{!}{\geq}  P_{el,BA,in} \stackrel{!}{\leq}  c_{BA,max,charge} \ E_{GB,max,current}  </script>
<script type="math/tex; mode=display"> \eta_{BA,discharge} \ \frac{E_{GB}}{\Delta t} \stackrel{!}{\geq}  P_{el,BA,out} \stackrel{!}{\leq}  c_{BA,max,discharge} \ E_{GB,max,current} </script>
</p>
<p>Relation beween current charging state in percent and in energy content:
<script type="math/tex; mode=display"> E_{GB} = E_{GB,max,current} \ x_{GB} </script>
</p>
<p><strong>Inputs and Outputs of the BA:</strong></p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Description</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<script type="math/tex">P_{el,BA,in}</script>
</td>
<td>electrical power input in the BA</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">P_{el,BA,out}</script>
</td>
<td>electrical power output of the BA</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">P_{el,BA,loss,self}</script>
</td>
<td>electrical power losses of the BA due to self-discharging</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">P_{el,BA,loss,charge}</script>
</td>
<td>electrical power losses of the BA while charging</td>
<td>[MW]</td>
</tr>
<tr>
<td>
<script type="math/tex">P_{el,BA,loss,discharge}</script>
</td>
<td>electrical power losses of the BA while discharging</td>
<td>[MW]</td>
</tr>
</tbody>
</table>
<p><strong>Parameter of the BA:</strong></p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Description</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<script type="math/tex">\eta_{BA,charge}</script>
</td>
<td>charging efficiency of battery</td>
<td>[-]</td>
</tr>
<tr>
<td>
<script type="math/tex">\eta_{BA,discharge}</script>
</td>
<td>discharging efficiency of battery</td>
<td>[-]</td>
</tr>
<tr>
<td>
<script type="math/tex">r_{BA,self \ discharge}</script>
</td>
<td>self-discharge rate of battery (% losses per hour regarding current energy content)</td>
<td>[1/h]</td>
</tr>
<tr>
<td>
<script type="math/tex">c_{BA,max,charge}</script>
</td>
<td>maximum charging rate (C-rate) of battery</td>
<td>[1/h]</td>
</tr>
<tr>
<td>
<script type="math/tex">c_{BA,max,discharge}</script>
</td>
<td>maximum discharging rate (C-rate) of battery</td>
<td>[1/h]</td>
</tr>
<tr>
<td>
<script type="math/tex">{E}_{GB,rated}</script>
</td>
<td>rated electrical energy capacity of the battery</td>
<td>[MWh]</td>
</tr>
<tr>
<td>
<script type="math/tex">r_{GB,CapReduction}</script>
</td>
<td>percentage of the reduction of the current battery capacity due to one full charge cycle</td>
<td>[%/cycle]</td>
</tr>
<tr>
<td>
<script type="math/tex">{E}_{GB,start}</script>
</td>
<td>electrical energy contend of the battery at the beginning of the simulation</td>
<td>[MWh]</td>
</tr>
</tbody>
</table>
<p><strong>State variables of the BA:</strong></p>
<table>
<thead>
<tr>
<th>Symbol</th>
<th>Description</th>
<th>Unit</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<script type="math/tex">{E}_{GB}</script>
</td>
<td>current amount of energy stored in the battery</td>
<td>[MWh]</td>
</tr>
<tr>
<td>
<script type="math/tex">{E}_{GB,max,current}</script>
</td>
<td>current maximum capacity of the battery depending on the number of charging cycles already performed</td>
<td>[MWh]</td>
</tr>
<tr>
<td>
<script type="math/tex">x_{GB}</script>
</td>
<td>current charging state of the battery</td>
<td>[%]</td>
</tr>
</tbody>
</table>
<h2 id="hydrogen-compressor-hc">Hydrogen compressor (HC)</h2>
<h2 id="references">References</h2>
<div class="footnote">
<hr />
<ol>
<li id="fn:3">
<p>Arpagaus C. et al.: High temperature heat pumps: Market overview, state of the art, research status, refrigerants, and application potentials, <em>Energy</em> (2018), doi: <a href="https://doi.org\10.1016/j.energy.2018.03.166">10.1016/j.energy.2018.03.166</a>&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p><a href="https://enrgi.de/wp-content/uploads/2022/08/Datenblatt_ecoGEO_B-C_1-9kW.pdf">https://enrgi.de/wp-content/uploads/2022/08/Datenblatt_ecoGEO_B-C_1-9kW.pdf</a>&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:1">
<p><a href="https://www.uibk.ac.at/bauphysik/aktuell/news/doc/2020/wp_cw.pdf">https://www.uibk.ac.at/bauphysik/aktuell/news/doc/2020/wp_cw.pdf</a>&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
</ol>
</div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href=".." class="btn btn-neutral float-left" title="Quasi II Dokumentation"><span class="icon icon-circle-arrow-left"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href=".." style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
